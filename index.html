<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content ="width=device-width,initial-scale=1,user-scalable=yes" />
    <title>Test Submission Portal</title>
    <link href="styles.css" rel="stylesheet" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.js"></script>
  </head>

  <body>
    <div style="margin: 1rem; text-align: center; max-width: 40vw;">
      <form
          action="https://script.google.com/macros/s/AKfycbwWc8G30I0sYkvPtbghQ7ziRq42dr_FZIbe2dxTpG4FF74tVCk/exec"
          id="form"
          class="main-form"
          method="post"
        >
          Upload a file
          <div id="data"></div>
          <br>
          <div class="input-group">
            
            <input name="file" id="uploadfile" type="file" />
          </div>
          <div class="input-group">
            <input id="submit" type="submit" />
          </div>
        </form>
    </div>
      
    
    <div class="join-page-circle-1"></div>
    <div class="join-page-circle-2"></div>
    <script>
      $("#uploadfile").on("change", function () {
        var file = this.files[0];
        var fr = new FileReader();
        fr.fileName = file.name;
        fr.onload = function (e) {
          e.target.result;
          html =
            '<input type="hidden" name="data" value="' +
            e.target.result.replace(/^.*,/, "") +
            '" >';
          html +=
            '<input type="hidden" name="mimetype" value="' +
            e.target.result.match(/^.*(?=;)/)[0] +
            '" >';
          html +=
            '<input type="hidden" name="filename" value="' +
            e.target.fileName +
            '" >';
          $("#data").empty().append(html);
        };
        fr.readAsDataURL(file);
      });
    </script>
  </body>
</html>
